<div id="add-new-page">
  <base href="add-new/">
  <link rel="stylesheet" href="add-new.css">

  <h1 class="page-title">Aggiungi nuovo oggetto</h1>

  <form id="dynamic-form">
    <!-- Select for entity type -->
    <select id="entityType" required>
      <option value="" disabled selected>Oggetto</option>
      <option value="category">Categoria</option>
      <option value="subBudget">Sotto bilancio</option>
      <option value="income">Entrate</option>
      <option value="expense">Uscite</option>
    </select>

    <!-- Form fields for different entities -->
    <div id="fields-container" class="form-container">

      <!-- Category fields -->
      <div id="category-fields" class="entity-form" hidden>
        <div id="input-group" class="input-group">
          <input type="text" id="category-name" required>
          <label for="category-name">Nome</label>
          <span class="border"></span>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="category-description">
          <label for="category-description">Descrizione</label>
          <span class="border"></span>
        </div>
      </div>

      <!-- Sub-Budget fields -->
      <div id="subBudget-fields" hidden>
        <select id="subBudget-category" required>
          <option value="" disabled selected>Categoria</option>
        </select>
        <div id="input-group" class="input-group">
          <input type="text" id="subBudget-name" required>
          <label for="subBudget-name">Nome</label>
          <span class="border"></span>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="subBudget-description">
          <label for="subBudget-description">Descrizione</label>
          <span class="border"></span>
        </div>
      </div>

      <!-- Income fields -->
      <div id="income-fields" hidden>
        <div id="input-group" class="input-group">
          <select id="income-category" required>
            <option value="" disabled selected>Categoria</option>
          </select>
        </div>
        <div id="input-group" class="input-group">
          <select id="income-subBudget" required>
            <option value="" disabled selected>Sotto bilancio</option>
          </select>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="income-title" required>
          <label for="income-title">Titolo</label>
          <span class="border"></span>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="income-description">
          <label for="income-description">Descrizione</label>
          <span class="border"></span>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="income-source">
          <label for="income-source">Mittente</label>
          <span class="border"></span>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="income-amount" pattern="^\d+(,\d{1,2})?$" title="Usare solo la virgola per i decimali"
            required>
          <label for="income-amount">Importo</label>
          <span class="border"></span>
        </div>
        <select id="income-payment-type" required>
          <option value="" disabled selected>Metodo di pagamento</option>
          <option value="cash">Contanti</option>
          <option value="bank">Banca</option>
        </select>
        <div id="input-group" class="input-group">
          <input type="date" id="income-transaction-date" required>
          <span class="border"></span>
        </div>
      </div>

      <!-- Expense fields -->
      <div id="expense-fields" hidden>
        <div id="input-group" class="input-group">
          <select id="expense-category" required>
            <option value="" disabled selected>Categoria</option>
          </select>
        </div>
        <div id="input-group" class="input-group">
          <select id="expense-subBudget" required>
            <option value="" disabled selected>Sotto bilancio</option>
          </select>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="expense-title" required>
          <label for="expense-title">Titolo</label>
          <span class="border"></span>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="expense-description">
          <label for="expense-description">Descrizione</label>
          <span class="border"></span>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="expense-recipient">
          <label for="expense-recipient">Destinatario</label>
          <span class="border"></span>
        </div>
        <div id="input-group" class="input-group">
          <input type="text" id="expense-amount" pattern="^\d+(,\d{1,2})?$" title="Usare solo la virgola per i decimali"
            required>
          <label for="expense-amount">Importo</label>
          <span class="border"></span>
        </div>
        <select id="expense-payment-type" required>
          <option value="" disabled selected>Metodo di pagamento</option>
          <option value="cash">Contanti</option>
          <option value="bank">Banca</option>
        </select>
        <div id="input-group" class="input-group">
          <input type="date" id="expense-transaction-date" required>
          <span class="border"></span>
        </div>
      </div>
    </div>

    <!-- Submit button -->
    <button type="button" id="create-btn" disabled>Crea</button>
    <br>
    <p id="request-result"></p>
  </form>

  <script src="add-new.js" async></script>
</div>